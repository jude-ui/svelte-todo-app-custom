import{SvelteComponent as b,append as m,attr as l,component_subscribe as f,detach as g,element as c,init as y,insert as v,listen as d,noop as _,run_all as j,safe_not_equal as Y,set_input_value as h,space as w}from"../../_snowpack/pkg/svelte/internal.js";import C from"../../_snowpack/pkg/shortid.js";import D from"../../_snowpack/pkg/moment.js";import{todos as k,saveStorage as T,isListRecent as L}from"../store/index.js";function M(o){let n,t,p,s,e,u;return{c(){n=c("div"),t=c("input"),p=w(),s=c("button"),s.textContent="Todo \uB4F1\uB85D",l(t,"type","text"),l(t,"class","form_ctrl"),l(s,"class","btn btn_primary"),l(n,"class","create_todo")},m(r,a){v(r,n,a),m(n,t),h(t,o[0]),m(n,p),m(n,s),e||(u=[d(t,"input",o[2]),d(t,"keyup",o[3]),d(s,"click",o[1])],e=!0)},p(r,[a]){a&1&&t.value!==r[0]&&h(t,r[0])},i:_,o:_,d(r){r&&g(n),e=!1,j(u)}}}function R(o,n,t){let p,s;f(o,k,i=>t(4,p=i)),f(o,L,i=>t(5,s=i));let e="";function u(){if(!e||!e.trim())return;const i={id:C.generate(),title:e.trim(),isDone:!1,time:D().format("YYYY.MM.DD a h:mm:ss")};s?p.unshift(i):p.push(i),k.set(p),T(),t(0,e="")}function r(){e=this.value,t(0,e)}return[e,u,r,i=>{i.key==="Enter"&&u()}]}class S extends b{constructor(n){super();y(this,n,R,M,Y,{})}}export default S;
